<!DOCTYPE html>
<html lang="en">
    <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://www.google.com/jsapi"></script>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta name="description" content="">
    <meta name="author" content="">
    <title>Dashboard Test</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- Plugin CSS -->
    <link href="vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/sb-admin.css" rel="stylesheet">

  </head>

  <body class="fixed-nav sticky-footer bg-dark" id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
      <a class="navbar-brand" href="#">Internet of Things Master Control Dashboard 9000 v2.0</a>

        <span class="navbar-toggler-icon"></span>
   <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav navbar-sidenav" id="exampleAccordion">
          <li class="nav-item active" data-toggle="tooltip" data-placement="right" title="Dashboard">
            <a class="nav-link" href="#">
              <i class="fa fa-fw fa-dashboard"></i>
              <span class="nav-link-text">
                Dashboard</span>
            </a>
          </li>
          <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Charts">
            <a class="nav-link" href="#">
              <i class="fa fa-fw fa-area-chart"></i>
              <span class="nav-link-text">
                Charts</span>
            </a>
          </li>
          <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Tables">
            <a class="nav-link" href="#">
              <i class="fa fa-fw fa-table"></i>
              <span class="nav-link-text">
                Tables</span>
            </a>
          </li>
        </ul>
                                                      <!-- Aqui termina la parte de la navegacion del sidebard. --> 

         <!-- Este es el toggler para la navigation page -->
        <ul class="navbar-nav sidenav-toggler">
          <li class="nav-item">
            <a class="nav-link text-center" id="sidenavToggler">
              <i class="fa fa-fw fa-angle-left"></i>
            </a>
          </li>
        </ul>

        <!-- Aca va el contenido de la navbar de la parte de arriba  --> 
     
      </div>


    </nav>

    <div class="content-wrapper">

      <div class="container-fluid">

        <!-- Breadcrumbs -->
        <ol class="breadcrumb">
          <li class="breadcrumb-item">
            <a href="#">Dashboard</a>
          </li>
          <li class="breadcrumb-item active">My Graphs</li>
        </ol>
        <!-- Area Chart Example -->
        <div class="card mb-3">
          <div class="card-header">
            <i class="fa fa-area-chart"></i>
            Area Chart Example
          </div>
          <div class="card-body">
         <!--   <canvas id="myAreaChart" width="100%" height="30"></canvas> -->
         <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script>
      function drawChartCelcius() {
          setInterval(function(){
        var jsonData = $.getJSON("NewServlet", function(result){
        }).done(function(results){
            var data = new google.visualization.DataTable();
          
          data.addColumn('datetime', 'Time');
          data.addColumn('number', 'Temperature');
          $.each(results, function (index, pos) {
              console.log(new Date(pos.x));
            data.addRow([
              (new Date(pos.x)),
              parseFloat(pos.y)
            ]);
          });
           var chart = new google.visualization.AreaChart($('#chart').get(0));
           
           var options = {
          title: 'Temperatura',
          hAxis: {title: 'Tiempo',  titleTextStyle: {color: 'black'}},
          vAxis: {minValue: 0},
          colors: ['red']
        };
          chart.draw(data,options);
        });
    }, 500);
        }
        google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
      </script>
      <script>
      function drawChartLux() {
          setInterval(function(){
        var jsonData = $.getJSON("NewServletlux", function(result){
        }).done(function(results){
            var data = new google.visualization.DataTable();
          
          data.addColumn('datetime', 'Time');
          data.addColumn('number', 'Lux');
          $.each(results, function (index, pos) {
              console.log(new Date(pos.x));
            data.addRow([
              (new Date(pos.x)),
              parseFloat(pos.y)
            ]);
          });
           var chart = new google.visualization.AreaChart($('#chart1').get(0));
           
           var options = {
          title: 'Luz',
          hAxis: {title: 'Tiempo',  titleTextStyle: {color: 'black'}},
          vAxis: {minValue: 0},
          colors: ['Green']
        };
          chart.draw(data,options);
        });
    }, 500);
        }
        google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
    </script>
    <script>
        function drawChartthresh() {
        setInterval(function(){
        var jsonData = $.getJSON("NewServlet2", function(result){
        }).done(function(results){
            var data = new google.visualization.DataTable();
          
          data.addColumn('datetime', 'Time');
          data.addColumn('number', 'Sonido');
          $.each(results, function (index, pos) {
              console.log(new Date(pos.x));
            data.addRow([
              (new Date(pos.x)),
              parseFloat(pos.y)
            ]);
          });
           var chart = new google.visualization.AreaChart($('#chart2').get(0));
           
           var options = {
          title: 'Sonido',
          hAxis: {title: 'Tiempo',  titleTextStyle: {color: 'black'}},
          vAxis: {minValue: 0},
          colors: ['Brown']
        };
          chart.draw(data,options);
        });
        google.charts.load('current', {'packages':['corechart']});
    }, 500);
        }
        
      google.charts.setOnLoadCallback(drawChart);
      </script>
         <div id="chart" class="container" style="width: 100%;">
          <script> setInterval(drawChartCelcius(), 3000); </script>
      </div>
      <div id="chart1" class="container" style="width: 100%;">
          <script> setInterval(drawChartLux(), 3000); </script>
      </div>
      <div id="chart2" class="container" style="width: 100%;">
          <script> setInterval(drawChartthresh(), 3000); </script>
      </div>
        </div>

        <div class="row">

          <div class="col-lg-8">

            <!-- Example Bar Chart Card -->
            <div class="card mb-3">
              <div class="card-header">
                <i class="fa fa-bar-chart"></i>
                Gauges Examples
              </div>
                <div class="container">
                    <div id="g1" class="gauge">
                        
                    </div>
                </div>
            <script src="raphael-2.1.4.min.js"></script>
            <script src="justgage.js"></script>
            <script>
                var g1 = new JustGage({
                id: "g1",
                title: "Angulo",
                value: 0,
                min: 0,
                max: 300,
                decimals: 0,
                gaugeWidthScale: 1.1
            });
            setInterval(function(){
                var jsonData = $.getJSON("AngleServlet", function(result){
                }).done(function(results){
                    $.each(results, function (index, pos) {
                       g1.refresh(pos.y);
                    });
                }); 
            },500);
            </script>
              <div class="card-footer small text-muted">
                Updated yesterday at 11:59 PM
              </div>
            </div>

            
            <!-- /Card Columns -->

          </div>

          <div class="col-lg-4">
            <!-- Example Pie Chart Card -->
            <div class="card mb-3">
              <div class="card-header">
                <i class="fa fa-pie-chart"></i>
                Gauge
              </div>
              <div class="card-body"> 
              </div>
              <div class="card-footer small text-muted">
                Updated yesterday at 11:59 PM
              </div>
            </div>
            <!-- Example Notifications Card -->
           
          </div>
        </div>

        <!-- Example Tables Card -->
        <div class="card mb-3">
          <div class="card-header">
            <i class="fa fa-table"></i>
            Data Table Example
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-bordered" width="100%" id="dataTable" cellspacing="0">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Position</th>
                    <th>Office</th>
                    <th>Age</th>
                    <th>Start date</th>
                    <th>Salary</th>
                  </tr>
                </thead>
            
                <tbody>
                
                  <tr>
                    <td>Shad Decker</td>
                    <td>Regional Director</td>
                    <td>Edinburgh</td>
                    <td>51</td>
                    <td>2008/11/13</td>
                    <td>$183,000</td>
                  </tr>
                  <tr>
                    <td>Michael Bruce</td>
                    <td>Javascript Developer</td>
                    <td>Singapore</td>
                    <td>29</td>
                    <td>2011/06/27</td>
                    <td>$183,000</td>
                  </tr>
                  <tr>
                    <td>Donna Snider</td>
                    <td>Customer Support</td>
                    <td>New York</td>
                    <td>27</td>
                    <td>2011/01/25</td>
                    <td>$112,000</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="card-footer small text-muted">
            Updated yesterday at 11:59 PM
          </div>
        </div>

      </div>
      <!-- /.container-fluid -->

    </div>
    <!-- /.content-wrapper -->

    <footer class="sticky-footer">
      <div class="container">
        <div class="text-center">
          <small>Copyright &copy; Universidad Sergio Arboleda 2017</small>
        </div>
      </div>
    </footer>

    <!-- Scroll to Top Button -->
    <a class="scroll-to-top rounded" href="#page-top">
      <i class="fa fa-angle-up"></i>
    </a>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/popper/popper.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="vendor/chart.js/Chart.min.js"></script>
    <script src="vendor/datatables/jquery.dataTables.js"></script>
    <script src="vendor/datatables/dataTables.bootstrap4.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/sb-admin.min.js"></script>

    <!-- Script to enable google's chart approach -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
   <!--  <script src="https://www.google.com/jsapi"></script> -->
    <script src="https://www.gstatic.com/charts/loader.js"></script>

    <!-- EXAMPLE SCRIPT -->
        

      <!--Script para la animacion de la area chart -->
         

        <!-- Script para conseguir el tiempo de la maquina y poder usarlo en graficas en funcion del tiempo  -->
        <script>
            var nextTime = (function() {
                var currentTime = parseInt(new Date().getTime() / 1000);
                return function() { return currentTime++; }
            })();
        </script>

  </body>

</html>
